#!/bin/bash
# common file for bash, zsh,etc.. all other shell

stty stop undef  # C-S for history search
stty start undef # C-Q

# history on memory
export HISTSIZE=10000

# history on histfile
export SAVEHIST=20000
export HISTFILESIZE=20000

# history with timestamp
HISTTIMEFORMAT='%Y%m%d %T ';
export HISTTIMEFORMAT

export EDITOR=/usr/bin/vim
export BUNDLER_EDITOR=vim

# rbenv
# if which -s rbenv ; then
if which rbenv > /dev/null ; then
    export PATH="$PATH:$HOME/.rbenv/shims"
    eval "$(rbenv init - --no-rehash )"
fi

# homebrew
export PATH=/usr/local/bin:$PATH
export PATH="$PATH:/usr/local/sbin"

# nodebrew
if [[ -f $HOME/.nodebrew/nodebrew ]]; then
    export PATH=$HOME/.nodebrew/current/bin:$PATH
fi

# golang
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
export PATH=$PATH:/usr/local/opt/go/libexec/bin

export PATH=$HOME/bin:$PATH

# less source-highlight
function _enable_src_highlight() {
if type 'source-highlight' > /dev/null 2>&1 ; then
  local SRC_HIGHLIGHT='src-hilite-lesspipe.sh'
  local BREW_PATH='/usr/local/bin'
  local APT_PATH='/usr/share/source-highlight'

  [ -x "$BREW_PATH/$SRC_HIGHLIGHT" ] && local LESSPIPE_PATH="$BREW_PATH/$SRC_HIGHLIGHT"
  [ -x "$APT_PATH/$SRC_HIGHLIGHT" ] && local LESSPIPE_PATH="$APT_PATH/$SRC_HIGHLIGHT"

  export LESS=' -R '
  export LESSOPEN="| $LESSPIPE_PATH %s"
fi
}
_enable_src_highlight

# cd support
. ~/.zsh/plugins/z/z.sh


#+---------------------------------------------------------+
# alias
#+---------------------------------------------------------+

export CLICOLOR=1

case "$(uname)" in
  Linux)
    . ~/.shrc.linux
    ;;
  Darwin) # for OSX
    . ~/.shrc.osx
    ;;
esac

alias l='ls -1'
alias lsa='ls -a'
alias la='ls -1a'
alias ll='ls -hl'
alias lla='ls -alh'

alias p="popd"

alias g='git'
alias gn='git --no-pager'

alias be="bundle exec"

alias grepr='grep -Ir --color=auto --exclude=tags --exclude-dir={.git,.hg,.svn,.idea,.cvs}'
alias grep='grep --color=auto'
# experimental settings
if [ -f ~/.privaterc.sh ] ; then
    . ~/.privaterc.sh
fi


# vim:set filetype=sh:
